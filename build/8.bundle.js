(window.webpackJsonp=window.webpackJsonp||[]).push([[8],{399:function(e,t,n){"use strict";var a=n(30),r=n.n(a),o=n(1),i=n.n(o),c=n(410),l=n.n(c),s=Object(o.forwardRef)((function(e,t){var n=e.value,a=e.classNames,c=e.onChange,s=e.onBlur,f=e.onKeyDown,u=e.onKeyPress,d=e.onKeyUp,m=e.maxLength,p=e.disabled,g=e.placeholder,b=e.name,v=e.spellCheck,x=void 0!==v&&v,_=e.errorMessage,h=Object(o.useState)(n),y=r()(h,2),N=y[0],w=y[1];return Object(o.useEffect)((function(){w(n)}),[n]),i.a.createElement("div",null,i.a.createElement("textarea",{className:"\n          ".concat(l.a.textarea,"\n          ").concat(a&&a,"\n        "),ref:t,placeholder:g,value:N,onChange:function(e){c&&c(e),w(e.target.value)},onBlur:function(e){s&&s(e)},onKeyDown:function(e){f&&f(e)},onKeyPress:u,onKeyUp:d,maxLength:m,disabled:p,name:b,spellCheck:x}),i.a.createElement("div",null,_))}));t.a=s},410:function(e,t,n){var a=n(38),r=n(411);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},411:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,".hRS2SSXVbNe3ynZqI82NM{resize:none;white-space:pre-wrap;padding:10px;font-size:14px;width:100%;border-radius:3px;border:1px solid #dadada;box-sizing:border-box;outline:none;height:75px;transition:.3s all}.hRS2SSXVbNe3ynZqI82NM:focus{border-color:#0a86f9}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",textarea:"hRS2SSXVbNe3ynZqI82NM"},t.default=r},536:function(e,t,n){"use strict";n.d(t,"a",(function(){return s}));var a=n(1),r=n.n(a),o=n(80),i=n(81),c=n(537),l=n.n(c);function s(e){var t=e.data,n=e.removeTab;return r.a.createElement("div",{className:l.a.assignedTeammatesList},t.map((function(e,t){return r.a.createElement("div",{key:t,className:l.a.assignedTeammate},r.a.createElement("p",{className:l.a.teammateName},e.value),r.a.createElement("div",{onClick:function(){return n(e)},className:l.a.removeIcon},r.a.createElement(o.a,{icon:i.t,color:"#cac9c9"})))})))}},537:function(e,t,n){var a=n(38),r=n(538);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},538:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._2M3SYBDyg1r2S_meBlbqem{display:flex;flex-wrap:wrap;width:100%;margin-top:10px}._4prS_nlvMOYOUBjoStX3J{display:flex;align-items:center;background-color:#fafafa;border:1px solid #e1e1e1;padding:5px 14px;width:fit-content}._2bAeiKjQPFW3HXdb5Ql9vD{display:flex;align-items:center;cursor:pointer}._3ZxexmiqqCzq-1WPtX83De{padding:0 8px;margin:0}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",assignedTeammatesList:"_2M3SYBDyg1r2S_meBlbqem",assignedTeammate:"_4prS_nlvMOYOUBjoStX3J",removeIcon:"_2bAeiKjQPFW3HXdb5Ql9vD",teammateName:"_3ZxexmiqqCzq-1WPtX83De"},t.default=r},746:function(e,t,n){var a=n(38),r=n(747);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},747:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._2-hQmyfgLgVc-qo-7i7tW5{position:relative;border:1px solid rgba(0,0,0,.125);border-radius:5px;background:#fff;margin-bottom:10px}._16NTyXMAAoQYt2HbgN70bW{padding:0 15px}._2pGEtOCpjFZcycgMEh3-0t{user-select:none;margin:0;padding:10px 0;cursor:pointer;font-weight:500;font-size:15px}._1FnswL2C3m71gEI3xEpKSF{padding:0 15px 15px}._1_6POD6bMU9nSOSAQGj_fr{user-select:none;cursor:pointer;font-weight:500}._3z11WoBJVXQoT7CNt8veMs{display:flex;align-items:baseline;justify-content:space-between}._2iUporCu1FmSOYQM-q-YSY{display:flex}.tMJEeOZno5N0lB-vNs7KG{color:#999;margin-left:5px}.xLmiYePqcTAdPwDW2Rmts{margin-right:10px}.wLnQBwjB3_SfHJquSlLgy{transform:rotate(90deg);margin-right:10px}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",accordion:"_2-hQmyfgLgVc-qo-7i7tW5",accordionHeader:"_16NTyXMAAoQYt2HbgN70bW",accordionTitle:"_2pGEtOCpjFZcycgMEh3-0t",accordionBody:"_1FnswL2C3m71gEI3xEpKSF",notesHeaderTitleName:"_1_6POD6bMU9nSOSAQGj_fr",notesHeaderTitle:"_3z11WoBJVXQoT7CNt8veMs",accordionHeaderContent:"_2iUporCu1FmSOYQM-q-YSY",notesCount:"tMJEeOZno5N0lB-vNs7KG",arrowIconRight:"xLmiYePqcTAdPwDW2Rmts",arrowIconDown:"wLnQBwjB3_SfHJquSlLgy"},t.default=r},748:function(e,t,n){var a=n(38),r=n(749);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},749:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._5cwdfftmX99Df_ZfButjw{font-size:13px}._5cwdfftmX99Df_ZfButjw:not(:last-child){margin-bottom:40px}._1v-sREwsox2gH9_a5edJhw{color:#6e6e6e;margin-bottom:10px}._3TGa_2pnbequOo002Zegi:not(:last-child){margin-bottom:5px}._1eGsHJQkL7UV5r1Mlbmnef{font-weight:600}._3wUGjYnng_pnI3wDbUY3XN{margin-left:5px}._3ceC47Iu4_LeBDC0iiuv82{display:inline-block;margin-top:10px}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",modificationContainer:"_5cwdfftmX99Df_ZfButjw",changeInFieldValue:"_1v-sREwsox2gH9_a5edJhw",changeField:"_3TGa_2pnbequOo002Zegi",label:"_1eGsHJQkL7UV5r1Mlbmnef",labelAfter:"_3wUGjYnng_pnI3wDbUY3XN",date:"_3ceC47Iu4_LeBDC0iiuv82"},t.default=r},750:function(e,t,n){var a=n(38),r=n(751);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},751:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._2t5zI-xGcbUNlJrNdRF3fL{font-size:14px;margin-top:20px}._2t5zI-xGcbUNlJrNdRF3fL:hover ._1Q-fprsZObYkD4FHCdW5MR{display:none}._2t5zI-xGcbUNlJrNdRF3fL:hover .emD48kncX62QSDGk7kw9q{display:block}._3iV4znbK-Vau5EiYW_oppt{display:flex;justify-content:space-between;margin-bottom:5px}._1o2H6Ilrr-gLFkzg6ulsvo{display:flex}._2t-K-LdvFrITbpcO4MNNIp{font-weight:500}._1Q-fprsZObYkD4FHCdW5MR{color:#b5b5b5}.emD48kncX62QSDGk7kw9q{display:none;cursor:pointer}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",noteContainer:"_2t5zI-xGcbUNlJrNdRF3fL",date:"_1Q-fprsZObYkD4FHCdW5MR",deleteIcon:"emD48kncX62QSDGk7kw9q",noteHeader:"_3iV4znbK-Vau5EiYW_oppt",avatarNameContainer:"_1o2H6Ilrr-gLFkzg6ulsvo",teammateName:"_2t-K-LdvFrITbpcO4MNNIp"},t.default=r},752:function(e,t,n){var a=n(38),r=n(753);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},753:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._3pJYQ3ftE7jRbm0vHpBZUi{display:flex;justify-content:space-between;margin-top:15px}._1PjW3zW2R5RMrGZoa_65GL{padding:20px;font-size:14px}.U1VYCRYwiExSwyTDmAbzS{display:flex;justify-content:flex-end;padding:0 15px 20px}.tvKWBffWznAyyTzcK8aGg{font-weight:500;line-height:1.36}._3kvCwg5RH7gNS4IktKtTi3{margin-right:10px}._3FwXh1xbLKdyttRKL31Gy4{padding:9px 30px 10px;font-size:13px;font-weight:400}._2wSqTs3BTj22XqqjKfJ9X2{color:#0a86f9;font-size:14px;padding:0;position:absolute;top:10px;right:15px}._3EmLq00A93XoW0egLk1kv3{padding:7px 25px;font-size:13px;flex-basis:50%;margin-right:15px}._1uPZIbrZwTNKfS-qP3qKVF{padding:7px 25px;font-size:13px;flex-basis:50%}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",butonsGroup:"_3pJYQ3ftE7jRbm0vHpBZUi",modalBody:"_1PjW3zW2R5RMrGZoa_65GL",modalFooter:"U1VYCRYwiExSwyTDmAbzS",noteText:"tvKWBffWznAyyTzcK8aGg",marginRight:"_3kvCwg5RH7gNS4IktKtTi3",button:"_3FwXh1xbLKdyttRKL31Gy4",addNoteBtn:"_2wSqTs3BTj22XqqjKfJ9X2",makeNoteBtn:"_3EmLq00A93XoW0egLk1kv3",cancelBtn:"_1uPZIbrZwTNKfS-qP3qKVF"},t.default=r},754:function(e,t,n){var a=n(38),r=n(755);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},755:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._1466MlI6QohPm_a0GH9LR9{padding:0;list-style-type:none;margin:0}._2VWiWpGNmp1FNhroBW-Vj6{display:flex;align-items:baseline;margin-bottom:10px}._1mOjQfTzLEL1Tddi9bZJWj{font-size:14px;font-weight:500}._1sfNONWTrJvBQS_I90rFG_{margin-left:5px;transition:.2s;outline:none;flex-grow:1;padding:10px 0;border:none;height:16px;font-size:14px}._1sfNONWTrJvBQS_I90rFG_:hover{background:#f0f0f0}._1sfNONWTrJvBQS_I90rFG_:focus{border:none}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",generalList:"_1466MlI6QohPm_a0GH9LR9",generalListItem:"_2VWiWpGNmp1FNhroBW-Vj6",nameField:"_1mOjQfTzLEL1Tddi9bZJWj",valueField:"_1sfNONWTrJvBQS_I90rFG_"},t.default=r},756:function(e,t,n){var a=n(38),r=n(757);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},757:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._3jnVIWuELtu_1UKsOQJaq{height:35px;margin-bottom:0;font-size:14px}",""]),r.locals={checkTeammateInput:"_3jnVIWuELtu_1UKsOQJaq"},t.default=r},758:function(e,t,n){var a=n(38),r=n(759);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},759:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._3cxGWcQHLjbBu2z4dfnomI{display:flex;align-items:flex-start;justify-content:space-between;color:#444;padding:20px 10px}.Xv7NA3HGsVVr3v_gqunDt{margin-top:10px;padding:0 10px;outline:none;border-radius:3px;border:none;background:#f8f8f8;font-size:16px;font-weight:500}.Xv7NA3HGsVVr3v_gqunDt:focus{background:#f0f0f0}._3XvzR-0xmFc0Y0beeF5skt{margin-top:3px;cursor:pointer;min-width:30px;height:30px;display:flex;align-items:center;justify-content:center;transition:.2s;border-radius:5px}._3XvzR-0xmFc0Y0beeF5skt:hover{background:#f0f0f0}.MiYfOGh_8y9RYs5c3C-qK{padding:10px 0}.MiYfOGh_8y9RYs5c3C-qK .czVLVVlTdeK39Vfzfl_Op{display:flex;padding:10px 15px;cursor:pointer;transition:.2s all}.MiYfOGh_8y9RYs5c3C-qK .czVLVVlTdeK39Vfzfl_Op:hover{background:#f8f9fa}.MiYfOGh_8y9RYs5c3C-qK .bVchNfkBSviCGXmNWH4th{margin-left:10px}.MiYfOGh_8y9RYs5c3C-qK .vzSAMxDRk55oa8TbD_68T{margin:0;font-size:14px;font-weight:500;margin-bottom:5px}.MiYfOGh_8y9RYs5c3C-qK ._2xIfJpQzz_nw9pvrmdwTPz{margin:0;font-size:12px}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",personGeneralInfo:"_3cxGWcQHLjbBu2z4dfnomI",clientName:"Xv7NA3HGsVVr3v_gqunDt",blackListIcon:"_3XvzR-0xmFc0Y0beeF5skt",popupBodyContainer:"MiYfOGh_8y9RYs5c3C-qK",blockClientContainer:"czVLVVlTdeK39Vfzfl_Op",textContainer:"bVchNfkBSviCGXmNWH4th",title:"vzSAMxDRk55oa8TbD_68T",description:"_2xIfJpQzz_nw9pvrmdwTPz"},t.default=r},760:function(e,t,n){var a=n(38),r=n(761);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},761:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._1apcowXjSvzcaGBt1TcVfq{padding:0 10px;display:flex;flex-direction:column;background:#f8f8f8;overflow-y:auto;height:calc(100vh - 62px);width:310px}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",personInfoContainer:"_1apcowXjSvzcaGBt1TcVfq"},t.default=r},766:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return oe}));var a=n(11),r=n.n(a),o=n(8),i=n.n(o),c=n(1),l=n.n(c),s=n(10),f=n(30),u=n.n(f),d=n(80),m=n(81),p=n(746),g=n.n(p);function b(e){var t=e.title,n=e.count,a=e.content,r=Object(c.useState)(!0),o=u()(r,2),i=o[0],s=o[1];return l.a.createElement("div",{className:g.a.accordion},l.a.createElement("div",{onClick:function(){return s((function(e){return!e}))},className:g.a.accordionHeader},l.a.createElement("div",{className:g.a.accordionTitle},l.a.createElement("div",{className:g.a.notesHeaderTitle},l.a.createElement("div",{className:g.a.accordionHeaderContent},l.a.createElement("div",{className:"\n                ".concat(g.a.arrowIconRight,"\n                ").concat(i&&g.a.arrowIconDown,"\n              ")},l.a.createElement(d.a,{icon:m.g,color:"$black-1",size:"sm"})),l.a.createElement("span",{className:g.a.notesHeaderTitleName},t),Boolean(n&&n>0)&&l.a.createElement("span",{className:g.a.notesCount},"(".concat(n,")")))))),i&&l.a.createElement("div",{className:g.a.accordionBody},a))}function v(e){var t=e.panels;return l.a.createElement("div",null,t.map((function(e,t){var n=e.title,a=e.content,r=e.count;return e.isVisible?l.a.createElement(b,{key:t,title:n,content:a,count:r}):null})))}var x=n(553),_=n(748),h=n.n(_),y=n(83);function N(e){var t=e.before,n=e.after,a=e.changeInFieldValue,r=e.timestamp;return l.a.createElement("div",{className:h.a.modificationContainer},l.a.createElement("div",{className:h.a.changeInFieldValue},"Изменения внесены в ".concat(a)),l.a.createElement("div",null,l.a.createElement("div",{className:h.a.changeField},l.a.createElement("span",{className:h.a.label},"До:"),l.a.createElement("span",{className:h.a.labelAfter},t)),l.a.createElement("div",{className:h.a.changeField},l.a.createElement("span",{className:h.a.label},"После:"),l.a.createElement("span",{className:h.a.labelAfter},n))),l.a.createElement("span",{className:h.a.date},Object(y.j)(r,"DD.MM.YYYY")))}function w(e){var t=e.selectedClient;return l.a.createElement(l.a.Fragment,null,t.changesHistory&&t.changesHistory.map((function(e,t){var n=e.before,a=e.after,r=e.changeInFieldValue,o=e.timestamp;return l.a.createElement(N,{key:t,before:n,after:a,changeInFieldValue:r,timestamp:o})})))}var E=n(405),C=n(750),O=n.n(C);function j(e){var t=e.id,n=e.madeBy,a=e.text,r=e.timestamp,o=e.confirmRemoveNote;return l.a.createElement("div",{className:O.a.noteContainer},l.a.createElement("div",{className:O.a.noteHeader},l.a.createElement("div",{className:O.a.avatarNameContainer},l.a.createElement(E.a,{name:n,size:"small"}),l.a.createElement("span",{className:O.a.teammateName},n)),l.a.createElement("div",{className:O.a.date},Object(y.j)(r,"DD.MM.YYYY")),l.a.createElement("div",{className:O.a.deleteIcon,onClick:function(){return o(t,a)}},l.a.createElement(d.a,{icon:m.t,color:"$orange-1"}))),l.a.createElement("div",null,a))}var k=n(399),I=n(393),S=n(82),B=n(79),T=n(752),M=n.n(T),z=n(9);function D(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function F(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?D(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):D(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function L(e){var t=e.selectedClient,n=e.setModalProps,a=e.closeModal,r=Object(c.useState)(!1),o=u()(r,2),i=o[0],s=o[1],f=Object(c.useState)(""),d=u()(f,2),m=d[0],p=d[1],g=Object(c.useState)(t.notes),b=u()(g,2),v=b[0],x=b[1],_=Object(c.useContext)(S.a).currentUser,h=Object(B.a)(),y=h.updateSelectedClient,N=h.addNote,w=h.deleteNote,E=function(e){var t=e.text;return l.a.createElement("p",{className:M.a.modalBody},'Вы действительно хотите удалить заметку "',l.a.createElement("span",{className:M.a.noteText},t),'"?')},C=function(e){var n=e.noteId;return l.a.createElement("div",{className:M.a.modalFooter},l.a.createElement(I.a,{type:"button",classNames:"".concat(M.a.button," ").concat(M.a.marginRight),background:"edit",onClick:function(){return a()}},"Отмена"),l.a.createElement(I.a,{type:"button",classNames:M.a.button,onClick:function(){return function(e){var n=t.notes.filter((function(t){return t.id!==e}));w({id:e,successCallback:function(){y({notes:n}),z.a.emit("updateSelectedClient",{notes:n})}}),a()}(n)}},"Удалить"))},O=function(e,t){n({show:!0,title:"Удалить заметку?",body:l.a.createElement(E,{text:t}),footer:l.a.createElement(C,{noteId:e}),width:"500px",position:"top",onClose:a})};return Object(c.useEffect)((function(){x(t.notes),console.log("UPDATED_STATE")}),[t.notes]),l.a.createElement(l.a.Fragment,null,l.a.createElement(I.a,{type:"button",background:"transparent",classNames:M.a.addNoteBtn,onClick:function(e){e.stopPropagation(),s((function(e){return!e}))}},"Добавить"),i&&l.a.createElement(l.a.Fragment,null,l.a.createElement(k.a,{placeholder:"Сделайте запись",value:m,onChange:function(e){return p(e.target.value)}}),l.a.createElement("div",{className:M.a.butonsGroup},l.a.createElement(I.a,{type:"button",classNames:M.a.makeNoteBtn,onClick:function(){if(m){var e={text:m,madeBy:_.username};N(F(F({},e),{},{clientId:t.clientId,successCallback:function(n){var a=n.id,r=n.timestamp,o=t.notes.concat(F(F({id:a},e),{},{timestamp:r}));y({notes:o}),z.a.emit("updateSelectedClient",{notes:o}),p(""),s((function(e){return!e}))}}))}}},"Создать"),l.a.createElement(I.a,{type:"button",background:"edit",classNames:M.a.cancelBtn,onClick:function(){return s((function(e){return!e}))}},"Отмена"))),v&&v.map((function(e){var t=e.id,n=e.madeBy,a=e.text,r=e.timestamp;return l.a.createElement(j,{key:t,id:t,madeBy:n,text:a,timestamp:r,confirmRemoveNote:O})})))}var V=n(392),G=n(754),Y=n.n(G),q=n(19),R=n.n(q);function H(e){var t=e.selectedClient,n=e.updateClientData,a=Object(c.useState)([{name:"Телефон",field:"phone",value:"Добавить",isEditable:!0},{name:"E-mail",field:"email",value:"Добавить",isEditable:!0}]),r=u()(a,2),o=r[0],i=r[1],s=function(e){var t=e.target;t.value};return Object(c.useEffect)((function(){var e=o.reduce((function(e,n){return"phone"===n.field&&(n.value=t.phone||""),"email"===n.field&&(n.value=t.email||""),e.concat(n)}),[]);i(e)}),[t]),l.a.createElement("ul",{className:Y.a.generalList},o.map((function(e,t){return l.a.createElement("li",{key:t,className:Y.a.generalListItem},l.a.createElement("span",{className:Y.a.nameField},e.name,":"),l.a.createElement(V.a,{type:"text",placeholder:"Добавить",value:e.value,classNames:Y.a.valueField,onBlur:function(t){return n(t,e.field)},onFocus:function(){return s},onChange:function(t){return n=t.target.value,a=e,void i((function(e){var t=R()(e),r=t.find((function(e){return e.field===a.field})),o=t.findIndex((function(e){return e.field===a.field}));return r&&(r.value=n,t.splice(o,1,r)),t}));var n,a}}))})))}var W=n(536),K=n(391),P=n(756),Q=n.n(P);function X(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function J(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?X(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):X(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function Z(e){var t=e.selectedClient,n=Object(B.a)().changeMessagesStatus,a=Object(s.i)().projectId,r=Object(K.a)((function(e){return e.teammates})).teammates,o=Object(c.useState)([]),i=u()(o,2),f=i[0],d=i[1],m=function(){return r.filter((function(e){return"active"===e.status})).map((function(e){return{id:e.email,value:e.username}}))},p=Object(c.useState)(m()),g=u()(p,2),b=g[0],v=g[1];return Object(c.useEffect)((function(){var e=r.find((function(e){return e.email===t.assignedTo}));if(e){var n={id:t.assignedTo,value:e.username};d([n].filter((function(e){return e.id})))}}),[t.clientId,t.assignedTo]),l.a.createElement("div",null,l.a.createElement(V.a,{type:"text",placeholder:"+ Выбрать сотрудника",classNames:Q.a.checkTeammateInput,fluid:!0,onClick:function(e){var o={clientId:t.clientId,projectId:a,assignedTo:e.id,messagesStatus:"opened"};n(J(J({},o),{},{successCallback:function(){z.a.emit("changeMessagesStatus",o)}}));var i=r.find((function(t){return t.email===e.id}));i&&d([{id:e.id,value:i.username}])},onChange:function(e){var t=e.target.value.toLowerCase(),n=m().filter((function(e){return e.value.toLowerCase().includes(t)}));v(n)},data:b}),l.a.createElement(W.a,{data:f,removeTab:function(e){n({clientId:t.clientId,projectId:a,assignedTo:"",messagesStatus:"opened"}),d((function(t){return t.filter((function(t){return t.value!==e.value}))}))}}))}var A=n(420),U=n(407),$=n(87),ee=n(758),te=n.n(ee);function ne(e){var t=e.clientData,n=e.selectedClient,a=e.updateClientData,r=Object(c.useState)(!1),o=u()(r,2),i=o[0],s=o[1],f=Object(B.a)(),p=f.updateClientData,g=f.updateIncomingMessage,b=f.updateSelectedClient,v=function(){s(!1);p(Object.assign(t,{isBlocked:!n.isBlocked,successCallback:function(){g({clientId:null==n?void 0:n.clientId,isBlocked:!n.isBlocked}),b({isBlocked:!n.isBlocked}),n.isBlocked||z.a.emit("blockClient",{room:n.clientId})}}))},x=function(){return l.a.createElement("div",{className:te.a.popupBodyContainer},l.a.createElement("div",{className:te.a.blockClientContainer,onClick:v},n.isBlocked?l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{icon:m.v}),l.a.createElement("div",{className:te.a.textContainer},l.a.createElement("p",{className:te.a.title},"Снять блокировку"),l.a.createElement("p",{className:te.a.description},"Возобновить получение сообщений от собеседника"))):l.a.createElement(l.a.Fragment,null,l.a.createElement(d.a,{icon:m.x}),l.a.createElement("div",{className:te.a.textContainer},l.a.createElement("p",{className:te.a.title},"Блокировать собеседника"),l.a.createElement("p",{className:te.a.description},"Вы не будете больше получать сообщения от собеседника")))))};return l.a.createElement("div",{className:te.a.personGeneralInfo},l.a.createElement("div",null,l.a.createElement(A.a,{name:n.avatarName,color:n.avatarColor,size:"60px"})),l.a.createElement(k.a,{classNames:te.a.clientName,value:Object($.b)(n.avatarColor,n.avatarName),onBlur:function(e){return a(e,"avatarName")}}),l.a.createElement(U.a,{body:l.a.createElement(x,null),width:"270px",position:"downRight",isOpenPopup:i,onClick:function(e){s("boolean"!=typeof e||e)}},l.a.createElement("div",{className:te.a.blackListIcon},l.a.createElement(d.a,{icon:m.i,color:"$brown-5"}))))}var ae=n(760),re=n.n(ae);function oe(e){var t=e.selectedClient,n=e.closeModal,a=e.setModalProps,o=Object(K.a)((function(e){return e.inbox})).isFetchingSelectedClienInfo,c=Object(B.a)(),f=c.updateIncomingMessage,u=c.updateSelectedClient,d=c.updateClientData,m=Object(s.i)().projectId,p={avatarName:t.avatarName,email:t.email,phone:t.phone,assignedTo:t.assignedTo,clientId:t.clientId,isBlocked:t.isBlocked,projectId:m},g=function(e,n){var a=e.target.value;if(n&&""!==a){var o;d(Object.assign(p,(o={updatedBy:"operator"},i()(o,n,a),i()(o,"changeInFieldValue",Object($.a)(n)),i()(o,"successCallback",(function(){var e,o=i()({clientId:null==t?void 0:t.clientId},n,a),c=(e={},i()(e,n,a),i()(e,"changesHistory",[].concat(r()(t.changesHistory),[{before:t[n],after:a,changeInFieldValue:Object($.a)(n),timestamp:Date.now()}])),e);f(o),u(c),z.a.emit("updateIncomingMessage",o),z.a.emit("updateSelectedClient",c)})),o)))}},b=[{title:"Основное",count:null,isVisible:!0,content:l.a.createElement(H,{selectedClient:t,updateClientData:g})},{title:"Назначить на",count:null,isVisible:!0,content:l.a.createElement(Z,{selectedClient:t})},{title:"Заметки",count:t.notes&&t.notes.length,isVisible:!0,content:l.a.createElement(L,{selectedClient:t,setModalProps:a,closeModal:n})},{title:"История изменений",count:t.changesHistory&&t.changesHistory.length,isVisible:t.changesHistory&&t.changesHistory.length>0,content:l.a.createElement(w,{selectedClient:t})}];return l.a.createElement("div",{className:re.a.personInfoContainer},o?l.a.createElement(x.a,null):l.a.createElement(l.a.Fragment,null,l.a.createElement(ne,{clientData:p,selectedClient:t,updateClientData:g}),l.a.createElement(v,{panels:b})))}}}]);