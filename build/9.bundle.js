(window.webpackJsonp=window.webpackJsonp||[]).push([[9],{394:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(8),r=n.n(a),i=n(30),o=n.n(i),c=n(1);function s(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function l(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?s(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):s(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function u(e,t,n,a){var i=Object(c.useState)(e),s=o()(i,2),u=s[0],f=s[1],m=Object(c.useState)({}),d=o()(m,2),p=d[0],b=d[1],g=Object(c.useState)(!1),O=o()(g,2),h=O[0],y=O[1];return Object(c.useEffect)((function(){0===Object.keys(p).length&&h&&n(u,(function(){return y(!1)}))}),[p]),{handleChange:function(e,t){var n=e.target,a=n.name,i=n.value;if("textarea"!==t)f(l(l({},u),{},r()({},a,i)));else{var o=i.split("\n").join("<br />");f(l(l({},u),{},r()({},a,o)))}},handleSubmit:function(e){e.preventDefault(),y(!0);var n=t(u,a),r=n.errors,i=n.formattedValues;Object.keys(r).length>0&&y(!1),b(r),f(i)},setFormValues:f,values:u,errors:p,isSubmitting:h}}},395:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),r=n.n(a),i=n(425),o=n.n(i);function c(e){var t=e.Component,n=e.children,a=e.level,i=e.weight,c=e.classNames,s=t||function(e){return e?"h"+e:"div"}(a);return r.a.createElement(s,{className:"\n        ".concat(o.a.title,"\n        ").concat(o.a["Title--w-".concat(i)],"\n        ").concat(o.a["Title--l-".concat(a)],"\n        ").concat(c,"\n      ")},n)}},396:function(e,t,n){"use strict";function a(e){return e?/\S+@\S+\.\S+/.test(e)?void 0:"Введите корректный e-mail":"Введите e-mail"}function r(e){if(!e.trim())return"Введите название проекта"}function i(e){if(!e.trim())return"Введите ваше имя"}function o(e){if(!e.trim())return"Введите вашy фамилию"}function c(e){return e.trim()?e.split(" ").length<2?"Введите ваши имя и фамилию":void 0:"Введите имя пользователя"}function s(e){if(!e.trim())return"Введите номер телефона"}function l(e){return e?e.length<8?"Пароль должен содержать как минимкм 8 символов":void 0:"Введите пароль"}function u(e,t){return t?t!==e?"Пароли не совпадают":void 0:"Введите пароль для потверждения"}n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return i})),n.d(t,"g",(function(){return o})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return s})),n.d(t,"d",(function(){return l})),n.d(t,"a",(function(){return u}))},416:function(e,t,n){var a=n(38),r=n(417);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},417:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._3tgxAJl2A0ic26QyrG2BTP{display:flex;border-bottom:1px solid #e9e9e9;justify-content:flex-end;padding:17px 10px 17px 0}._1p3QsQFWznZY_SxgMOlcwW{display:flex;justify-content:space-between;width:fit-content}.eptC8fZe8jhn0BU4bv375{display:flex;align-items:center;margin-right:35px}.WZoaC2RspqxU4YgbICGVx{margin-left:5px;cursor:pointer;user-select:none;font-size:14px}._3B0weF9gusbIzNxXO1--pu{display:flex;align-items:center}._3popE61TsYlMdLWsCykjyz{font-size:14px;margin-right:10px}._3K-goa5TUYk0vOAc-7qc4-{list-style-type:none;padding:10px 0;border-top:1px solid #e9e9e9;border-bottom:1px solid #e9e9e9;margin:0}._1rM6DPOnp6U6frEKxnlV0u{font-size:14px;padding:8px 0}._1_k0Rs9ZYyJrw_4mfRdjdW{display:flex;align-items:center;color:#212529;text-decoration:none;padding:5px 24px;transition:.2s all;cursor:pointer}._1_k0Rs9ZYyJrw_4mfRdjdW:hover{background:#f8f9fa}._3KrQo8edDdfzp89OUBXVPq{padding:0 15px 5px}._2xHcRzDdsbNO9dutv-vtxs{width:25px}._3Dbz_y2a6dMfZDvJGd__fe{position:relative;width:330px;display:flex;align-items:center;padding:10px 10px 10px 0;font-size:14px}._1OIEjWLmHeKHDapyfRD-qa{width:265px;box-sizing:border-box;border:none;outline:none;margin:0 0 0 52px;padding:1px;height:auto;font-size:14px}._1OIEjWLmHeKHDapyfRD-qa:focus{border:none}._1MOu5IaV3D-DUZK0lgyVsK{background:#f6f6f6;color:#4d4d4d;font-weight:500;margin:0;padding:13px 20px;font-size:13px}._1jznQnsgoTFirSBlgndPxy{position:absolute;left:20px}._1VKGIHHgB4u19TsZfd4o-n{display:flex;align-items:center;justify-content:space-between;width:296px;font-size:13px}._1VKGIHHgB4u19TsZfd4o-n:not(:last-child){margin-bottom:15px}._1nI-F3Ix7PT7XC0Yf-5XHL{height:36px;font-size:13px;cursor:default;margin-bottom:0}.GbVnSo-Idef3nBhCHwf4J{padding:20px 21px}._2FdzpjEE7XzcaHiceutqs0{font-weight:500;color:#959595}._2PwlnK9XLHmMXxMObkoHqp{width:100px;height:32px;margin-left:auto;font-size:13px}._1xk75cR-GwOdtfaB_Oa9xO{display:flex;align-items:center;margin-right:20px;font-size:14px}._3TOXuaVkzg1o-dB6RozThj{margin-left:5px}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",headerContainer:"_3tgxAJl2A0ic26QyrG2BTP",userBlock:"_1p3QsQFWznZY_SxgMOlcwW",userMenu:"eptC8fZe8jhn0BU4bv375",currentUserInfo:"WZoaC2RspqxU4YgbICGVx",switcherBlock:"_3B0weF9gusbIzNxXO1--pu",stateLabel:"_3popE61TsYlMdLWsCykjyz",list:"_3K-goa5TUYk0vOAc-7qc4-",popup:"_1rM6DPOnp6U6frEKxnlV0u",link:"_1_k0Rs9ZYyJrw_4mfRdjdW",email:"_3KrQo8edDdfzp89OUBXVPq",icon:"_2xHcRzDdsbNO9dutv-vtxs",searchContainer:"_3Dbz_y2a6dMfZDvJGd__fe",search:"_1OIEjWLmHeKHDapyfRD-qa",title:"_1MOu5IaV3D-DUZK0lgyVsK",searchIcon:"_1jznQnsgoTFirSBlgndPxy",selector:"_1VKGIHHgB4u19TsZfd4o-n",input:"_1nI-F3Ix7PT7XC0Yf-5XHL",popupBodyContainer:"GbVnSo-Idef3nBhCHwf4J",label:"_2FdzpjEE7XzcaHiceutqs0",searchButton:"_2PwlnK9XLHmMXxMObkoHqp",currentUserBalance:"_1xk75cR-GwOdtfaB_Oa9xO",balanceValue:"_3TOXuaVkzg1o-dB6RozThj"},t.default=r},421:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n(8),r=n.n(a),i=n(1),o=n.n(i),c=n(10),s=n(31),l=n(81),u=n(80),f=n(19),m=n.n(f),d=n(86),p=n(435),b=n(436),g=n(405),O=n(433),h=n(79),y=n(391),x=n(422),j=n.n(x),v=n(84),E=n(82),w=n(85);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return P(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return P(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var i,o=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return o=e.done,e},e:function(e){c=!0,i=e},f:function(){try{o||null==n.return||n.return()}finally{if(c)throw i}}}}function P(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function I(e){var t=e.inboxMessages,n=Object(y.a)((function(e){return e.inbox})).incomingMessages,a=Object(y.a)((function(e){return e.inbox})).selectedClient,r=Object(y.a)((function(e){return e.channels})).channels,f=Object(y.a)((function(e){return e.teammates})).teammates,x=Object(i.useContext)(E.a).currentUser,_=Object(i.useContext)(w.a).updateSidebar,P=Object(v.a)(x.role),I=Object(c.i)(),k=I.projectId,S=I.dialogType,B=Object(h.a)(),D=B.selectClient,N=(B.updateTeammate,B.updateIncomingMessagesFilters),M=Object(c.g)(),T=function(e){S!==e&&(M.push("/project/".concat(k,"/inbox/").concat(e)),""!==a.clientId&&D(m()(d.a)))},H=function(e){switch(e){case"chat":return"Чат на сайте"}};return Object(i.useEffect)((function(){_((function(e){return C(C({},e),{},{dialogs:S})}))}),[]),o.a.createElement(p.a,null,o.a.createElement(b.a,{type:"dialogs",title:o.a.createElement("h3",{className:j.a.title},"Диалоги"),listItems:[{name:"Все",label:"all",allClientIds:n,icon:o.a.createElement(u.a,{icon:l.m}),stylesList:{marginLeft:"8px"},onClick:function(){return T("all")}},{name:"Непрочитанные",label:"unread",count:t.unread.count,icon:o.a.createElement(u.a,{icon:l.j}),stylesList:{marginLeft:"8px"},unreadClientIds:t.unread.clientIds,onClick:function(){return T("unread")}},{name:"Открытые",label:"opened",count:t.opened.count,icon:o.a.createElement(u.a,{icon:l.k}),stylesList:{marginLeft:"8px"},openedClientIds:t.opened.clientIds,onClick:function(){return T("opened")}},{name:"Назначенные мне",label:"assigned",count:t.assigned.count,icon:o.a.createElement(u.a,{icon:l.c}),stylesList:{marginLeft:"8px"},assignedClientIds:t.assigned.clientIds,onClick:function(){return T("assigned")}},{name:"Закрытые",label:"closed",count:t.closed.count,icon:o.a.createElement(u.a,{icon:l.e}),stylesList:{marginLeft:"8px"},closedClientIds:t.closed.clientIds,onClick:function(){return T("closed")}}]}),o.a.createElement(b.a,{type:"channel",title:P?o.a.createElement(s.b,{className:j.a.title,to:"/project/".concat(k,"/settings/channels")},"Каналы"):o.a.createElement("h3",{className:j.a.title},"Каналы"),listItems:function(e){var t=[];if(e.length>0){var n,a=z(e);try{var r=function(){var e=n.value.name;t.push({name:H(e),label:e,icon:o.a.createElement(u.a,{icon:l.h}),stylesList:{marginLeft:"8px"},onClick:function(){return N({channel:e})}})};for(a.s();!(n=a.n()).done;)r()}catch(e){a.e(e)}finally{a.f()}P&&t.push({name:"Добавить канал",stylesList:{color:"#4eaaff",fontWeight:"500"},onClick:function(){return M.push("/project/".concat(k,"/settings/channels"))}})}return t}(r)}),P&&o.a.createElement(b.a,{type:"assigned",title:o.a.createElement(s.b,{className:j.a.title,to:"/project/".concat(k,"/settings/teammates")},"Сотрудники"),listItems:function(e){var t,n=[],a=z(e.filter((function(e){return e.email!==x.email})));try{var r=function(){var e=t.value,a=e.username,r=e.isOnline,i=e.email;n.push({name:a,label:i,icon:o.a.createElement(O.a,{size:"small",color:r?j.a.isOnline:j.a.isOffline},o.a.createElement(g.a,{name:a,size:"small"})),onClick:function(){return N({assigned:i})}})};for(a.s();!(t=a.n()).done;)r()}catch(e){a.e(e)}finally{a.f()}return P&&n.push({name:"Добавить сотрудника",stylesList:{color:"#4eaaff",fontWeight:"500"},onClick:function(){return M.push("/project/".concat(k,"/settings/teammates"))}}),n}(f)}),P&&o.a.createElement("div",{className:j.a.fixedSidebarSection},o.a.createElement(b.a,{listItems:[{name:"Настройки",onClick:function(){return M.push("/project/".concat(k,"/settings/start"))}}]})))}},422:function(e,t,n){var a=n(38),r=n(423);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},423:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._3gHbG6gpti8DrSG2GDixjE{font-size:12px;font-weight:400;text-transform:uppercase;margin:0;margin-bottom:8px;color:#aaa;padding-left:30px}._3u1j9TXbbaBmylK8Me4IhM{position:absolute;bottom:0;left:0;width:100%;background:#2b2b2d}._1Ba_IJUMGCTEethNm55KeO{background:#00c200}.AiszIjJ27oVtDuCKAM8nW{background:#b4b8bb}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",title:"_3gHbG6gpti8DrSG2GDixjE",fixedSidebarSection:"_3u1j9TXbbaBmylK8Me4IhM",isOnline:"_1Ba_IJUMGCTEethNm55KeO",isOffline:"AiszIjJ27oVtDuCKAM8nW"},t.default=r},424:function(e,t,n){"use strict";function a(e,t){var n=[],a=e.filter((function(e){if("unread"===e.messagesStatus)return n.push(e),!0})).length,r=[],i=e.filter((function(e){if("opened"===e.messagesStatus)return r.push(e),!0})).length,o=[],c=e.filter((function(e){if("closed"===e.messagesStatus)return o.push(e),!0})).length,s=[],l=e.filter((function(e){if(e.assignedTo===t.email)return s.push(e),!0})).length;return{unread:{count:a,clientIds:n},opened:{count:i,clientIds:r},closed:{count:c,clientIds:o},assigned:{count:l,clientIds:s}}}n.d(t,"a",(function(){return a}))},425:function(e,t,n){var a=n(38),r=n(426);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},426:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._2XUaF_iczzV-6poYcSJtYy{text-align:center;margin:0}._2tgBpg550NFgIO68vUjnZJ{font-size:28px;line-height:28px;margin:20px 0 10px}._3ejKPNurum8Yyx54HgVw3k{font-size:20px;line-height:24px}._3u4yZh91JNOvdBREIO9SB7{font-size:17px;line-height:22px}._3HFH9OR5nOHv0DoC6FjMBu{font-size:15px;line-height:20px}.rBnM67vvKreQRyl6OLvJ1{font-weight:400}._3KgNfT6gFOBzG2HnlbPgFy{font-weight:500}._1UH0JXQSnxo59WYd43SAoV{font-weight:600}._1MQYrloB6p8kE-L-912IrR{font-weight:700}.CSNPcBxWazNrxyeM3U-Eo{font-weight:800}",""]),r.locals={title:"_2XUaF_iczzV-6poYcSJtYy","Title--l-1":"_2tgBpg550NFgIO68vUjnZJ","Title--l-2":"_3ejKPNurum8Yyx54HgVw3k","Title--l-3":"_3u4yZh91JNOvdBREIO9SB7","Title--l-4":"_3HFH9OR5nOHv0DoC6FjMBu","Title--w-regular":"rBnM67vvKreQRyl6OLvJ1","Title--w-medium":"_3KgNfT6gFOBzG2HnlbPgFy","Title--w-semibold":"_1UH0JXQSnxo59WYd43SAoV","Title--w-bold":"_1MQYrloB6p8kE-L-912IrR","Title--w-heavy":"CSNPcBxWazNrxyeM3U-Eo"},t.default=r},427:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(8),r=n.n(a),i=n(30),o=n.n(i),c=n(1),s=n.n(c),l=n(10),u=n(31),f=n(9),m=n(82);function d(){var e=Object(c.useContext)(m.a).currentUser;return s.a.createElement("div",null,e.username)}var p=n(413),b=n(407),g=n(405),O=n(79),h=n(416),y=n.n(h),x=n(80),j=n(81),v=n(84),E=n(397);function w(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function _(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?w(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):w(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(){var e=Object(c.useContext)(m.a),t=e.currentUser,n=e.setCurrentUser,a=Object(c.useState)(t.isOnline),r=o()(a,2),i=r[0],h=r[1],w=Object(l.g)(),C=Object(l.i)().projectId,z=Object(O.a)().updateTeammate,P=t.balance,I=Object(v.a)(t.role),k=function(){return s.a.createElement("div",{className:y.a.popup},s.a.createElement("p",{className:y.a.email},t.email),s.a.createElement("div",null,s.a.createElement("ul",{className:y.a.list},s.a.createElement("li",null,s.a.createElement(u.b,{className:y.a.link,to:"/project/".concat(C,"/profile")},s.a.createElement("div",{className:y.a.icon},s.a.createElement(x.a,{icon:j.w})),s.a.createElement("span",null,"Изменить профиль"))),I&&s.a.createElement("li",null,s.a.createElement(u.b,{className:y.a.link,to:"/project/".concat(C,"/projects")},s.a.createElement("div",{className:y.a.icon},s.a.createElement(x.a,{icon:j.n})),s.a.createElement("span",null,"Мои проекты"))))),s.a.createElement("div",{className:y.a.link,onClick:function(){Object(E.a)(""),w.push("/signin")}},s.a.createElement("div",{className:y.a.icon},s.a.createElement(x.a,{icon:j.r})),s.a.createElement("span",null,"Выход")))};return Object(c.useEffect)((function(){h(t.isOnline)}),[t.isOnline]),s.a.createElement("header",{className:y.a.headerContainer},s.a.createElement("div",{className:y.a.userBlock},s.a.createElement("div",{className:y.a.userMenu},s.a.createElement(g.a,{name:t.username,size:"medium"}),s.a.createElement(b.a,{body:s.a.createElement(k,null),width:"215px",position:"center",arrow:!0},s.a.createElement("div",{className:y.a.currentUserInfo},s.a.createElement(d,null)))),null!==P&&I&&s.a.createElement("div",{className:y.a.currentUserBalance},"Баланс: ",s.a.createElement("span",{className:y.a.balanceValue},P," ₽")),s.a.createElement("div",{className:y.a.switcherBlock},s.a.createElement("span",{className:y.a.stateLabel},i?"в сети":"не доступен"),s.a.createElement(p.a,{onChange:function(e){h(e),z({oldEmail:t.email,isOnline:e,projectId:C,successCallback:function(){return n((function(n){return f.a.emit("updateTeammateOnlineStatus",{isOnline:e,email:t.email}),_(_({},n),{},{isOnline:e})}))}})},value:i}))))}},534:function(e,t,n){var a=n(38),r=n(535);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},535:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._3iy-6Hu8z8jB75ZlreZV5o{padding:30px 30px 0}._2Kw3HcU22wKvMmxnSVCmOt{padding:0 30px 15px 30px}._3xpoih6DoKZpo1-kZXi7TK{margin-bottom:15px}._3HI64pCeopwzde4mQRTLG9{position:absolute;right:10px;top:0;color:#0a86f9}.z2n8uDLZdcMEtVF3hECAz{margin-bottom:15px}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",modalBody:"_3iy-6Hu8z8jB75ZlreZV5o",modalFooter:"_2Kw3HcU22wKvMmxnSVCmOt",field:"_3xpoih6DoKZpo1-kZXi7TK",changeDataBtn:"_3HI64pCeopwzde4mQRTLG9",saveBtn:"z2n8uDLZdcMEtVF3hECAz"},t.default=r},539:function(e,t,n){"use strict";n.d(t,"a",(function(){return y}));var a=n(30),r=n.n(a),i=n(1),o=n.n(i),c=n(392),s=n(393),l=n(394),u=n(82),f=n(534),m=n.n(f),d=n(8),p=n.n(d),b=n(396);function g(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function O(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?g(Object(n),!0).forEach((function(t){p()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):g(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function h(e,t){var n,a,r,i,o,c=Object(b.c)(e.name),s=Object(b.g)(e.surname);return t.isEditableEmail&&(a=Object(b.b)(e.email),r=Object(b.b)(e.confirmEmail)),t.isEditablePassword&&(i=Object(b.d)(e.password),o=Object(b.a)(e.password,e.confirmPassword)),{errors:n=O(O(O(O(O(O({},c&&{name:c}),s&&{surname:s}),a&&{email:a}),r&&{confirmEmail:r}),i&&{password:i}),o&&{confirmPassword:o}),formattedValues:0===Object.keys(n).length?function(e){var n=e.email,a=e.confirmEmail,r=e.password,i={oldEmail:n,name:e.name,surname:e.surname};return t.isEditableEmail&&(i.email=a),t.isEditablePassword&&(i.password=r),i}(e):e}}function y(e){e.setFormData;var t=e.saveData,n=e.body,a=e.footer,f=e.email,d=e.password,p=e.name,b=void 0===p?"":p,g=e.surname,O=void 0===g?"":g,y=Object(i.useState)(!1),x=r()(y,2),j=x[0],v=x[1],E=Object(i.useState)(!1),w=r()(E,2),_=w[0],C=w[1],z=Object(i.useContext)(u.a).currentUser.username.split(" "),P=r()(z,2),I=P[0],k=P[1],S=Object(l.a)({email:f,confirmEmail:"",password:d,confirmPassword:"",name:b||I,surname:O||k},h,t,{isEditableEmail:j,isEditablePassword:_}),B=S.handleChange,D=S.handleSubmit,N=(S.values,S.errors),M=S.setFormValues;return Object(i.useEffect)((function(){M({email:f,confirmEmail:"",password:d,confirmPassword:"",name:b||I,surname:O||k})}),[f]),o.a.createElement("form",{onSubmit:D,noValidate:!0},o.a.createElement("div",{className:m.a.modalBody},o.a.createElement(c.a,{type:"email",name:"email",value:f,placeholder:"Новый email",disabled:!j,fluid:!0,addonAfter:!j&&o.a.createElement(s.a,{type:"button",background:"transparent",classNames:m.a.changeDataBtn,onClick:function(){v(!0)}},"Изменить email"),onChange:B,classNames:m.a.field,errorMessage:N.email}),j&&o.a.createElement(c.a,{type:"email",name:"confirmEmail",placeholder:"Подтвердите email",fluid:!0,errorMessage:N.confirmEmail,onChange:B,classNames:m.a.field}),o.a.createElement(c.a,{type:"password",value:d,name:"password",placeholder:"Новый пароль",disabled:!_,fluid:!0,onChange:B,errorMessage:N.password,addonAfter:!_&&o.a.createElement(s.a,{type:"button",background:"transparent",classNames:m.a.changeDataBtn,onClick:function(){C(!0)}},"Изменить пароль"),classNames:m.a.field}),_&&o.a.createElement(c.a,{type:"password",name:"confirmPassword",placeholder:"Подтвердите пароль",fluid:!0,errorMessage:N.confirmPassword,onChange:B,classNames:m.a.field}),o.a.createElement(c.a,{type:"text",value:b,name:"name",placeholder:"Имя",onChange:B,errorMessage:N.name,fluid:!0,classNames:m.a.field}),o.a.createElement(c.a,{type:"text",value:O,name:"surname",placeholder:"Фамилия",onChange:B,errorMessage:N.surname,fluid:!0,classNames:"".concat(m.a.field)}),n),o.a.createElement("div",{className:m.a.modalFooter},o.a.createElement(s.a,{type:"submit",classNames:m.a.saveBtn,fluid:!0},"Сохранить изменения"),a))}},736:function(e,t,n){var a=n(38),r=n(737);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var i={insert:"head",singleton:!1};a(r,i);e.exports=r.locals||{}},737:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._2IUfoaLnhZnylPzqQzSlQT{display:flex}._2UX-Wmmn9B5I6Fp9fpFqAY{flex-basis:720px;margin:0 auto}._2tWt8KSKCkYceX6TToG7EE{width:100%}._1w_PdMk-a6mNH932t0J1UZ{max-width:510px;margin:0 auto}._2nHb2pgqTTdA2IaQdJqCsa{padding:0 30px 15px 30px}.mY3W1M1oIaJFy8sGY99B5{margin-bottom:15px}",""]),r.locals={profileContainer:"_2IUfoaLnhZnylPzqQzSlQT",channelsContainer:"_2UX-Wmmn9B5I6Fp9fpFqAY",contentContainer:"_2tWt8KSKCkYceX6TToG7EE",formContainer:"_1w_PdMk-a6mNH932t0J1UZ",modalFooter:"_2nHb2pgqTTdA2IaQdJqCsa",timezones:"mY3W1M1oIaJFy8sGY99B5"},t.default=r},764:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return z}));var a=n(8),r=n.n(a),i=n(13),o=n.n(i),c=n(30),s=n.n(c),l=n(1),u=n.n(l),f=n(10),m=n(421),d=n(395),p=n(427),b=n(392),g=n(539),O=n(82),h=n(424),y=n(83),x=n(79),j=n(391),v=n(736),E=n.n(v),w=n(397);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function z(){var e=Object(l.useContext)(O.a),t=e.currentUser,n=e.setCurrentUser,a=Object(f.i)().projectId,r=Object(j.a)((function(e){return e.inbox})).incomingMessages,i=Object(x.a)().updateTeammate,c=Object(l.useState)({email:t.email,password:"fakePassword123",name:"",surname:"",timezone:t.timezone||y.e}),v=s()(c,2),_=v[0],z=v[1],P=Object(h.a)(r,t),I=function(e){z((function(t){return C(C({},t),{},{timezone:e})}))},k=Object(y.o)(),S=function(){return u.a.createElement(b.a,{type:"text",classNames:E.a.timezones,fixedSelect:!0,data:k,fluid:!0,value:Object(y.n)(_.timezone),readOnly:!0,onSelect:I})};return Object(l.useEffect)((function(){var e=t.username.split(" "),n=s()(e,2),a=n[0],r=n[1];z({email:t.email,password:"fakePassword123",name:a,surname:r,timezone:t.timezone||y.e})}),[t]),u.a.createElement("div",{className:E.a.profileContainer},u.a.createElement(m.a,{inboxMessages:P}),u.a.createElement("div",{className:E.a.contentContainer},u.a.createElement(p.a,null),u.a.createElement("div",{className:E.a.channelsContainer},u.a.createElement(d.a,{level:"1",weight:"bold"},"Настройки профиля"),u.a.createElement("div",{className:E.a.formContainer},u.a.createElement(g.a,{saveData:function(e){var r=e.name,c=e.surname,s=o()(e,["name","surname"]),l="".concat(r," ").concat(c);i(C(C({},s),{},{timezone:_.timezone,username:l,oldEmail:t.email,projectId:a,successCallback:function(e){var t=e.token;t&&Object(w.a)(t),n((function(e){return C(C({},e),{},{username:l,timezone:_.timezone},s)}))}}))},setFormData:z,email:_.email,password:_.password,name:_.name,surname:_.surname,body:u.a.createElement(S,null)})))))}}}]);