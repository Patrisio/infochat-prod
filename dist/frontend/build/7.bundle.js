(window.webpackJsonp=window.webpackJsonp||[]).push([[7],{394:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(8),r=n.n(a),o=n(30),i=n.n(o),c=n(1);function l(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function s(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?l(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):l(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function f(e,t,n,a){var o=Object(c.useState)(e),l=i()(o,2),f=l[0],u=l[1],d=Object(c.useState)({}),p=i()(d,2),m=p[0],b=p[1],g=Object(c.useState)(!1),h=i()(g,2),y=h[0],O=h[1];return Object(c.useEffect)((function(){0===Object.keys(m).length&&y&&n(f,(function(){return O(!1)}))}),[m]),{handleChange:function(e,t){var n=e.target,a=n.name,o=n.value;if("textarea"!==t)u(s(s({},f),{},r()({},a,o)));else{var i=o.split("\n").join("<br />");u(s(s({},f),{},r()({},a,i)))}},handleSubmit:function(e){e.preventDefault(),O(!0);var n=t(f,a),r=n.errors,o=n.formattedValues;Object.keys(r).length>0&&O(!1),b(r),u(o)},setFormValues:u,values:f,errors:m,isSubmitting:y}}},395:function(e,t,n){"use strict";n.d(t,"a",(function(){return c}));var a=n(1),r=n.n(a),o=n(425),i=n.n(o);function c(e){var t=e.Component,n=e.children,a=e.level,o=e.weight,c=e.classNames,l=t||function(e){return e?"h"+e:"div"}(a);return r.a.createElement(l,{className:"\n        ".concat(i.a.title,"\n        ").concat(i.a["Title--w-".concat(o)],"\n        ").concat(i.a["Title--l-".concat(a)],"\n        ").concat(c,"\n      ")},n)}},396:function(e,t,n){"use strict";function a(e){return e?/\S+@\S+\.\S+/.test(e)?void 0:"Введите корректный e-mail":"Введите e-mail"}function r(e){if(!e.trim())return"Введите название проекта"}function o(e){if(!e.trim())return"Введите ваше имя"}function i(e){if(!e.trim())return"Введите вашy фамилию"}function c(e){return e.trim()?e.split(" ").length<2?"Введите ваши имя и фамилию":void 0:"Введите имя пользователя"}function l(e){if(!e.trim())return"Введите номер телефона"}function s(e){return e?e.length<8?"Пароль должен содержать как минимкм 8 символов":void 0:"Введите пароль"}function f(e,t){return t?t!==e?"Пароли не совпадают":void 0:"Введите пароль для потверждения"}n.d(t,"b",(function(){return a})),n.d(t,"f",(function(){return r})),n.d(t,"c",(function(){return o})),n.d(t,"g",(function(){return i})),n.d(t,"h",(function(){return c})),n.d(t,"e",(function(){return l})),n.d(t,"d",(function(){return s})),n.d(t,"a",(function(){return f}))},398:function(e,t,n){var a=n(38),r=n(409);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},408:function(e,t,n){"use strict";n.d(t,"a",(function(){return u}));var a=n(1),r=n.n(a),o=n(80),i=n(81),c=n(418),l=n.n(c),s=n(398),f=n.n(s);function u(e){var t=e.show,n=e.onClose,c=e.title,s=e.body,u=e.footer,d=e.width,p=e.height,m=e.errors,b=e.position,g=void 0===b?"center":b;return r.a.createElement("div",{className:"\n        ".concat(l.a.overlay,"\n        ").concat(t?l.a.overlayVisible:l.a.overlayHidden,"\n      ")},r.a.createElement("div",{className:"\n          ".concat(l.a.modalContent,"\n          ").concat(t?l.a.modalContentVisible:l.a.modalContentHidden,"\n          ").concat(function(){switch(g){case"top":return t?l.a.modalContentTopVisible:l.a.modalContentTopHidden;case"center":return l.a.center;default:return""}}(),"\n        "),style:{width:d,height:p}},r.a.createElement("div",{className:l.a.header},r.a.createElement("h3",{className:l.a.title},c),r.a.createElement("div",{className:l.a.closeIcon,onClick:function(){n()}},r.a.createElement(o.a,{icon:i.t,color:f.a.grey23}))),r.a.createElement("div",{className:l.a.modalBody},s&&Object(a.cloneElement)(s,{errors:m})),u&&r.a.createElement("div",null,u)))}},409:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc"},t.default=r},416:function(e,t,n){var a=n(38),r=n(417);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},417:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._3tgxAJl2A0ic26QyrG2BTP{display:flex;border-bottom:1px solid #e9e9e9;justify-content:flex-end;padding:17px 10px 17px 0}._1p3QsQFWznZY_SxgMOlcwW{display:flex;justify-content:space-between;width:fit-content}.eptC8fZe8jhn0BU4bv375{display:flex;align-items:center;margin-right:35px}.WZoaC2RspqxU4YgbICGVx{margin-left:5px;cursor:pointer;user-select:none;font-size:14px}._3B0weF9gusbIzNxXO1--pu{display:flex;align-items:center}._3popE61TsYlMdLWsCykjyz{font-size:14px;margin-right:10px}._3K-goa5TUYk0vOAc-7qc4-{list-style-type:none;padding:10px 0;border-top:1px solid #e9e9e9;border-bottom:1px solid #e9e9e9;margin:0}._1rM6DPOnp6U6frEKxnlV0u{font-size:14px;padding:8px 0}._1_k0Rs9ZYyJrw_4mfRdjdW{display:flex;align-items:center;color:#212529;text-decoration:none;padding:5px 24px;transition:.2s all;cursor:pointer}._1_k0Rs9ZYyJrw_4mfRdjdW:hover{background:#f8f9fa}._3KrQo8edDdfzp89OUBXVPq{padding:0 15px 5px}._2xHcRzDdsbNO9dutv-vtxs{width:25px}._3Dbz_y2a6dMfZDvJGd__fe{position:relative;width:330px;display:flex;align-items:center;padding:10px 10px 10px 0;font-size:14px}._1OIEjWLmHeKHDapyfRD-qa{width:265px;box-sizing:border-box;border:none;outline:none;margin:0 0 0 52px;padding:1px;height:auto;font-size:14px}._1OIEjWLmHeKHDapyfRD-qa:focus{border:none}._1MOu5IaV3D-DUZK0lgyVsK{background:#f6f6f6;color:#4d4d4d;font-weight:500;margin:0;padding:13px 20px;font-size:13px}._1jznQnsgoTFirSBlgndPxy{position:absolute;left:20px}._1VKGIHHgB4u19TsZfd4o-n{display:flex;align-items:center;justify-content:space-between;width:296px;font-size:13px}._1VKGIHHgB4u19TsZfd4o-n:not(:last-child){margin-bottom:15px}._1nI-F3Ix7PT7XC0Yf-5XHL{height:36px;font-size:13px;cursor:default;margin-bottom:0}.GbVnSo-Idef3nBhCHwf4J{padding:20px 21px}._2FdzpjEE7XzcaHiceutqs0{font-weight:500;color:#959595}._2PwlnK9XLHmMXxMObkoHqp{width:100px;height:32px;margin-left:auto;font-size:13px}._1xk75cR-GwOdtfaB_Oa9xO{display:flex;align-items:center;margin-right:20px;font-size:14px}._3TOXuaVkzg1o-dB6RozThj{margin-left:5px}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",headerContainer:"_3tgxAJl2A0ic26QyrG2BTP",userBlock:"_1p3QsQFWznZY_SxgMOlcwW",userMenu:"eptC8fZe8jhn0BU4bv375",currentUserInfo:"WZoaC2RspqxU4YgbICGVx",switcherBlock:"_3B0weF9gusbIzNxXO1--pu",stateLabel:"_3popE61TsYlMdLWsCykjyz",list:"_3K-goa5TUYk0vOAc-7qc4-",popup:"_1rM6DPOnp6U6frEKxnlV0u",link:"_1_k0Rs9ZYyJrw_4mfRdjdW",email:"_3KrQo8edDdfzp89OUBXVPq",icon:"_2xHcRzDdsbNO9dutv-vtxs",searchContainer:"_3Dbz_y2a6dMfZDvJGd__fe",search:"_1OIEjWLmHeKHDapyfRD-qa",title:"_1MOu5IaV3D-DUZK0lgyVsK",searchIcon:"_1jznQnsgoTFirSBlgndPxy",selector:"_1VKGIHHgB4u19TsZfd4o-n",input:"_1nI-F3Ix7PT7XC0Yf-5XHL",popupBodyContainer:"GbVnSo-Idef3nBhCHwf4J",label:"_2FdzpjEE7XzcaHiceutqs0",searchButton:"_2PwlnK9XLHmMXxMObkoHqp",currentUserBalance:"_1xk75cR-GwOdtfaB_Oa9xO",balanceValue:"_3TOXuaVkzg1o-dB6RozThj"},t.default=r},418:function(e,t,n){var a=n(38),r=n(419);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},419:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._2IdA4lo2AsJor2ZN6twMxL{position:fixed;display:flex;width:100%;height:100vh;z-index:99;left:0;top:0;background:rgba(0,0,0,.5);overflow-y:auto;transition:.3s all}._2yCV-MC25nG5BRMqnlS4gs{visibility:hidden;opacity:0}._14f4aOntaos8PcBCGvoRmh{visibility:visible;opacity:1}._3dr807WHrcCFxZwVt_6J7X{position:relative;z-index:99;background:#fff;border-radius:5px;overflow:hidden;height:fit-content;transition:.2s all ease}._2I8uPSz2lAHA8lTHsRZxsk{visibility:hidden}.-r5pw7pIki0PsGHxzOSX0{visibility:visible}._2X2P6sea0BhIekdFTR7mPC{visibility:hidden;top:0;left:50%;transform:translateX(-50%)}._2tRCVP9ID_p5AKOn2gdwjO{visibility:visible;transform:translateX(-50%);top:30px;left:50%}._21TdPyKqs1d172spanPBwQ{overflow-y:auto;height:calc(100% - 50px)}.lNOpniH7_0Du4F5C8rjdi{transform:translateX(-50%);top:0;left:50%;align-self:center}._28BPLdZT8PtzgKFu_iFXIl{background:#f6f6f6;padding:16px;border-bottom:1px solid #dee2e6;display:flex;justify-content:space-between;align-items:center}._1sowrBW_U-1tKo7wNSOrHL{font-weight:500;color:#444;font-size:16px;margin:0}._2UqWz1RbSyuxFl3QUeIXVe{cursor:pointer}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",overlay:"_2IdA4lo2AsJor2ZN6twMxL",overlayHidden:"_2yCV-MC25nG5BRMqnlS4gs",overlayVisible:"_14f4aOntaos8PcBCGvoRmh",modalContent:"_3dr807WHrcCFxZwVt_6J7X",modalContentHidden:"_2I8uPSz2lAHA8lTHsRZxsk",modalContentVisible:"-r5pw7pIki0PsGHxzOSX0",modalContentTopHidden:"_2X2P6sea0BhIekdFTR7mPC",modalContentTopVisible:"_2tRCVP9ID_p5AKOn2gdwjO",modalBody:"_21TdPyKqs1d172spanPBwQ",center:"lNOpniH7_0Du4F5C8rjdi",header:"_28BPLdZT8PtzgKFu_iFXIl",title:"_1sowrBW_U-1tKo7wNSOrHL",closeIcon:"_2UqWz1RbSyuxFl3QUeIXVe"},t.default=r},421:function(e,t,n){"use strict";n.d(t,"a",(function(){return I}));var a=n(8),r=n.n(a),o=n(1),i=n.n(o),c=n(10),l=n(31),s=n(81),f=n(80),u=n(19),d=n.n(u),p=n(86),m=n(435),b=n(436),g=n(405),h=n(433),y=n(79),O=n(391),x=n(422),v=n.n(x),j=n(84),w=n(82),_=n(85);function E(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function C(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?E(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):E(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function P(e,t){var n;if("undefined"==typeof Symbol||null==e[Symbol.iterator]){if(Array.isArray(e)||(n=function(e,t){if(!e)return;if("string"==typeof e)return N(e,t);var n=Object.prototype.toString.call(e).slice(8,-1);"Object"===n&&e.constructor&&(n=e.constructor.name);if("Map"===n||"Set"===n)return Array.from(e);if("Arguments"===n||/^(?:Ui|I)nt(?:8|16|32)(?:Clamped)?Array$/.test(n))return N(e,t)}(e))||t&&e&&"number"==typeof e.length){n&&(e=n);var a=0,r=function(){};return{s:r,n:function(){return a>=e.length?{done:!0}:{done:!1,value:e[a++]}},e:function(e){throw e},f:r}}throw new TypeError("Invalid attempt to iterate non-iterable instance.\nIn order to be iterable, non-array objects must have a [Symbol.iterator]() method.")}var o,i=!0,c=!1;return{s:function(){n=e[Symbol.iterator]()},n:function(){var e=n.next();return i=e.done,e},e:function(e){c=!0,o=e},f:function(){try{i||null==n.return||n.return()}finally{if(c)throw o}}}}function N(e,t){(null==t||t>e.length)&&(t=e.length);for(var n=0,a=new Array(t);n<t;n++)a[n]=e[n];return a}function I(e){var t=e.inboxMessages,n=Object(O.a)((function(e){return e.inbox})).incomingMessages,a=Object(O.a)((function(e){return e.inbox})).selectedClient,r=Object(O.a)((function(e){return e.channels})).channels,u=Object(O.a)((function(e){return e.teammates})).teammates,x=Object(o.useContext)(w.a).currentUser,E=Object(o.useContext)(_.a).updateSidebar,N=Object(j.a)(x.role),I=Object(c.i)(),k=I.projectId,B=I.dialogType,S=Object(y.a)(),z=S.selectClient,H=(S.updateTeammate,S.updateIncomingMessagesFilters),D=Object(c.g)(),M=function(e){B!==e&&(D.push("/project/".concat(k,"/inbox/").concat(e)),""!==a.clientId&&z(d()(p.a)))},T=function(e){switch(e){case"chat":return"Чат на сайте"}};return Object(o.useEffect)((function(){E((function(e){return C(C({},e),{},{dialogs:B})}))}),[]),i.a.createElement(m.a,null,i.a.createElement(b.a,{type:"dialogs",title:i.a.createElement("h3",{className:v.a.title},"Диалоги"),listItems:[{name:"Все",label:"all",allClientIds:n,icon:i.a.createElement(f.a,{icon:s.m}),stylesList:{marginLeft:"8px"},onClick:function(){return M("all")}},{name:"Непрочитанные",label:"unread",count:t.unread.count,icon:i.a.createElement(f.a,{icon:s.j}),stylesList:{marginLeft:"8px"},unreadClientIds:t.unread.clientIds,onClick:function(){return M("unread")}},{name:"Открытые",label:"opened",count:t.opened.count,icon:i.a.createElement(f.a,{icon:s.k}),stylesList:{marginLeft:"8px"},openedClientIds:t.opened.clientIds,onClick:function(){return M("opened")}},{name:"Назначенные мне",label:"assigned",count:t.assigned.count,icon:i.a.createElement(f.a,{icon:s.c}),stylesList:{marginLeft:"8px"},assignedClientIds:t.assigned.clientIds,onClick:function(){return M("assigned")}},{name:"Закрытые",label:"closed",count:t.closed.count,icon:i.a.createElement(f.a,{icon:s.e}),stylesList:{marginLeft:"8px"},closedClientIds:t.closed.clientIds,onClick:function(){return M("closed")}}]}),i.a.createElement(b.a,{type:"channel",title:N?i.a.createElement(l.b,{className:v.a.title,to:"/project/".concat(k,"/settings/channels")},"Каналы"):i.a.createElement("h3",{className:v.a.title},"Каналы"),listItems:function(e){var t=[];if(e.length>0){var n,a=P(e);try{var r=function(){var e=n.value.name;t.push({name:T(e),label:e,icon:i.a.createElement(f.a,{icon:s.h}),stylesList:{marginLeft:"8px"},onClick:function(){return H({channel:e})}})};for(a.s();!(n=a.n()).done;)r()}catch(e){a.e(e)}finally{a.f()}N&&t.push({name:"Добавить канал",stylesList:{color:"#4eaaff",fontWeight:"500"},onClick:function(){return D.push("/project/".concat(k,"/settings/channels"))}})}return t}(r)}),N&&i.a.createElement(b.a,{type:"assigned",title:i.a.createElement(l.b,{className:v.a.title,to:"/project/".concat(k,"/settings/teammates")},"Сотрудники"),listItems:function(e){var t,n=[],a=P(e.filter((function(e){return e.email!==x.email})));try{var r=function(){var e=t.value,a=e.username,r=e.isOnline,o=e.email;n.push({name:a,label:o,icon:i.a.createElement(h.a,{size:"small",color:r?v.a.isOnline:v.a.isOffline},i.a.createElement(g.a,{name:a,size:"small"})),onClick:function(){return H({assigned:o})}})};for(a.s();!(t=a.n()).done;)r()}catch(e){a.e(e)}finally{a.f()}return N&&n.push({name:"Добавить сотрудника",stylesList:{color:"#4eaaff",fontWeight:"500"},onClick:function(){return D.push("/project/".concat(k,"/settings/teammates"))}}),n}(u)}),N&&i.a.createElement("div",{className:v.a.fixedSidebarSection},i.a.createElement(b.a,{listItems:[{name:"Настройки",onClick:function(){return D.push("/project/".concat(k,"/settings/start"))}}]})))}},422:function(e,t,n){var a=n(38),r=n(423);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},423:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._3gHbG6gpti8DrSG2GDixjE{font-size:12px;font-weight:400;text-transform:uppercase;margin:0;margin-bottom:8px;color:#aaa;padding-left:30px}._3u1j9TXbbaBmylK8Me4IhM{position:absolute;bottom:0;left:0;width:100%;background:#2b2b2d}._1Ba_IJUMGCTEethNm55KeO{background:#00c200}.AiszIjJ27oVtDuCKAM8nW{background:#b4b8bb}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",title:"_3gHbG6gpti8DrSG2GDixjE",fixedSidebarSection:"_3u1j9TXbbaBmylK8Me4IhM",isOnline:"_1Ba_IJUMGCTEethNm55KeO",isOffline:"AiszIjJ27oVtDuCKAM8nW"},t.default=r},424:function(e,t,n){"use strict";function a(e,t){var n=[],a=e.filter((function(e){if("unread"===e.messagesStatus)return n.push(e),!0})).length,r=[],o=e.filter((function(e){if("opened"===e.messagesStatus)return r.push(e),!0})).length,i=[],c=e.filter((function(e){if("closed"===e.messagesStatus)return i.push(e),!0})).length,l=[],s=e.filter((function(e){if(e.assignedTo===t.email)return l.push(e),!0})).length;return{unread:{count:a,clientIds:n},opened:{count:o,clientIds:r},closed:{count:c,clientIds:i},assigned:{count:s,clientIds:l}}}n.d(t,"a",(function(){return a}))},425:function(e,t,n){var a=n(38),r=n(426);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},426:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._2XUaF_iczzV-6poYcSJtYy{text-align:center;margin:0}._2tgBpg550NFgIO68vUjnZJ{font-size:28px;line-height:28px;margin:20px 0 10px}._3ejKPNurum8Yyx54HgVw3k{font-size:20px;line-height:24px}._3u4yZh91JNOvdBREIO9SB7{font-size:17px;line-height:22px}._3HFH9OR5nOHv0DoC6FjMBu{font-size:15px;line-height:20px}.rBnM67vvKreQRyl6OLvJ1{font-weight:400}._3KgNfT6gFOBzG2HnlbPgFy{font-weight:500}._1UH0JXQSnxo59WYd43SAoV{font-weight:600}._1MQYrloB6p8kE-L-912IrR{font-weight:700}.CSNPcBxWazNrxyeM3U-Eo{font-weight:800}",""]),r.locals={title:"_2XUaF_iczzV-6poYcSJtYy","Title--l-1":"_2tgBpg550NFgIO68vUjnZJ","Title--l-2":"_3ejKPNurum8Yyx54HgVw3k","Title--l-3":"_3u4yZh91JNOvdBREIO9SB7","Title--l-4":"_3HFH9OR5nOHv0DoC6FjMBu","Title--w-regular":"rBnM67vvKreQRyl6OLvJ1","Title--w-medium":"_3KgNfT6gFOBzG2HnlbPgFy","Title--w-semibold":"_1UH0JXQSnxo59WYd43SAoV","Title--w-bold":"_1MQYrloB6p8kE-L-912IrR","Title--w-heavy":"CSNPcBxWazNrxyeM3U-Eo"},t.default=r},427:function(e,t,n){"use strict";n.d(t,"a",(function(){return C}));var a=n(8),r=n.n(a),o=n(30),i=n.n(o),c=n(1),l=n.n(c),s=n(10),f=n(31),u=n(9),d=n(82);function p(){var e=Object(c.useContext)(d.a).currentUser;return l.a.createElement("div",null,e.username)}var m=n(413),b=n(407),g=n(405),h=n(79),y=n(416),O=n.n(y),x=n(80),v=n(81),j=n(84),w=n(397);function _(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function E(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?_(Object(n),!0).forEach((function(t){r()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):_(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function C(){var e=Object(c.useContext)(d.a),t=e.currentUser,n=e.setCurrentUser,a=Object(c.useState)(t.isOnline),r=i()(a,2),o=r[0],y=r[1],_=Object(s.g)(),C=Object(s.i)().projectId,P=Object(h.a)().updateTeammate,N=t.balance,I=Object(j.a)(t.role),k=function(){return l.a.createElement("div",{className:O.a.popup},l.a.createElement("p",{className:O.a.email},t.email),l.a.createElement("div",null,l.a.createElement("ul",{className:O.a.list},l.a.createElement("li",null,l.a.createElement(f.b,{className:O.a.link,to:"/project/".concat(C,"/profile")},l.a.createElement("div",{className:O.a.icon},l.a.createElement(x.a,{icon:v.w})),l.a.createElement("span",null,"Изменить профиль"))),I&&l.a.createElement("li",null,l.a.createElement(f.b,{className:O.a.link,to:"/project/".concat(C,"/projects")},l.a.createElement("div",{className:O.a.icon},l.a.createElement(x.a,{icon:v.n})),l.a.createElement("span",null,"Мои проекты"))))),l.a.createElement("div",{className:O.a.link,onClick:function(){Object(w.a)(""),_.push("/signin")}},l.a.createElement("div",{className:O.a.icon},l.a.createElement(x.a,{icon:v.r})),l.a.createElement("span",null,"Выход")))};return Object(c.useEffect)((function(){y(t.isOnline)}),[t.isOnline]),l.a.createElement("header",{className:O.a.headerContainer},l.a.createElement("div",{className:O.a.userBlock},l.a.createElement("div",{className:O.a.userMenu},l.a.createElement(g.a,{name:t.username,size:"medium"}),l.a.createElement(b.a,{body:l.a.createElement(k,null),width:"215px",position:"center",arrow:!0},l.a.createElement("div",{className:O.a.currentUserInfo},l.a.createElement(p,null)))),null!==N&&I&&l.a.createElement("div",{className:O.a.currentUserBalance},"Баланс: ",l.a.createElement("span",{className:O.a.balanceValue},N," ₽")),l.a.createElement("div",{className:O.a.switcherBlock},l.a.createElement("span",{className:O.a.stateLabel},o?"в сети":"не доступен"),l.a.createElement(m.a,{onChange:function(e){y(e),P({oldEmail:t.email,isOnline:e,projectId:C,successCallback:function(){return n((function(n){return u.a.emit("updateTeammateOnlineStatus",{isOnline:e,email:t.email}),E(E({},n),{},{isOnline:e})}))}})},value:o}))))}},428:function(e,t,n){"use strict";n.d(t,"a",(function(){return f}));var a=n(1),r=n.n(a),o=n(530),i=n.n(o);function c(e){var t=e.row,n=e.columns;return r.a.createElement("div",{className:i.a.gridRow},n.map((function(e,n){return r.a.createElement("div",{key:n,className:i.a.gridCell},e.cellComponent?e.cellComponent(t):t[e.key])})))}var l=n(532),s=n.n(l);function f(e){var t=e.columns,n=e.data;return r.a.createElement("div",{className:s.a.gridContainer},t.filter((function(e){return e.visible})).length>0&&r.a.createElement("div",{className:s.a.header},t.map((function(e,t){return r.a.createElement("div",{key:t},e.headerComponent&&e.headerComponent())}))),n.map((function(e,n){return r.a.createElement(c,{key:n,row:e,columns:t})})))}},530:function(e,t,n){var a=n(38),r=n(531);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},531:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._3mukBbxNmhlzuUaLHp6wle{display:flex;justify-content:space-between;align-items:center;padding:15px}._3mukBbxNmhlzuUaLHp6wle:not(:last-child){border-bottom:1px solid #d6d6d6}._2mu44xTDv7KY9EJ4TNWz-2{display:flex;align-items:center}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",gridRow:"_3mukBbxNmhlzuUaLHp6wle",gridCell:"_2mu44xTDv7KY9EJ4TNWz-2"},t.default=r},532:function(e,t,n){var a=n(38),r=n(533);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},533:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._1HpC7tzUWuXHnhFSMJDwvd{border:1px solid #d6d6d6;border-radius:5px;margin:0 auto}.A99vVGbaHrcSlxrUEwWHx{display:flex;align-items:center;justify-content:space-between;padding:0 15px;height:64px;border-bottom:1px solid #d6d6d6}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",gridContainer:"_1HpC7tzUWuXHnhFSMJDwvd",header:"A99vVGbaHrcSlxrUEwWHx"},t.default=r},738:function(e,t,n){var a=n(38),r=n(739);"string"==typeof(r=r.__esModule?r.default:r)&&(r=[[e.i,r,""]]);var o={insert:"head",singleton:!1};a(r,o);e.exports=r.locals||{}},739:function(e,t,n){"use strict";n.r(t);var a=n(24),r=n.n(a)()(!1);r.push([e.i,"._2LjIQPspJCIZgGxmOcsQK{display:flex;justify-content:space-between}.R2BLD1SAeYbuCXq7y0hcb{width:100%}.JpjmEAy8eE3w7yBnFxSYi{max-width:720px;margin:0 auto}._2YPvITA9-YrjKsxOC8p9gK{width:400px;font-weight:500}._3cCFRln9Q_0NeZt9CqGHaA{margin-left:auto}._34mtwRy0XOubjvBM5nFZ9h{padding:30px}._2qq9bVsIQnffPJKuPmLqDj{margin-bottom:15px}.OkMbY3BgDHULIHljAuaS_{font-size:14px;font-weight:500;color:#0a86f9;padding:0}._1rKVlRpu6HhzryL52VBRAf{background:#fff;color:#0a86f9;font-weight:400;padding:10px;font-size:13px}._2bhxAUphs5KQmzQOwp_Nc9{font-weight:500;font-size:13px;padding:10px 14px}",""]),r.locals={white1:"#fff",blue1:"#0084ff",blue10:"#f4fffd",blue11:"#f4f9ff",brown10:"#363636",green3:"#f5fff5",green4:"#faffec",green5:"#fbfff2",red1:"snow",grey23:"#ccc",projectsContainer:"_2LjIQPspJCIZgGxmOcsQK",contentContainer:"R2BLD1SAeYbuCXq7y0hcb",channelsContainer:"JpjmEAy8eE3w7yBnFxSYi",projectName:"_2YPvITA9-YrjKsxOC8p9gK",teammatesCount:"_3cCFRln9Q_0NeZt9CqGHaA",modalBodyContainer:"_34mtwRy0XOubjvBM5nFZ9h",field:"_2qq9bVsIQnffPJKuPmLqDj",addNewProjectBtn:"OkMbY3BgDHULIHljAuaS_",newProjectBtn:"_1rKVlRpu6HhzryL52VBRAf",changeProjectBtn:"_2bhxAUphs5KQmzQOwp_Nc9"},t.default=r},773:function(e,t,n){"use strict";n.r(t),n.d(t,"default",(function(){return D}));var a=n(11),r=n.n(a),o=n(8),i=n.n(o),c=n(30),l=n.n(c),s=n(1),f=n.n(s),u=n(10),d=n(19),p=n.n(d),m=n(421),b=n(395),g=n(427),h=n(408),y=n(428),O=n(393),x=n(392),v=n(394),j=n(82),w=n(424),_=n(79),E=n(391),C=n(83),P=n(738),N=n.n(P),I=n(396);function k(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function B(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?k(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):k(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function S(e,t){var n=Object(I.f)(e.projectName);return{errors:B({},n&&{projectName:n}),formattedValues:B(B({},e),{},{name:e.projectName})}}function z(e,t){var n=Object.keys(e);if(Object.getOwnPropertySymbols){var a=Object.getOwnPropertySymbols(e);t&&(a=a.filter((function(t){return Object.getOwnPropertyDescriptor(e,t).enumerable}))),n.push.apply(n,a)}return n}function H(e){for(var t=1;t<arguments.length;t++){var n=null!=arguments[t]?arguments[t]:{};t%2?z(Object(n),!0).forEach((function(t){i()(e,t,n[t])})):Object.getOwnPropertyDescriptors?Object.defineProperties(e,Object.getOwnPropertyDescriptors(n)):z(Object(n)).forEach((function(t){Object.defineProperty(e,t,Object.getOwnPropertyDescriptor(n,t))}))}return e}function D(){var e=Object(E.a)((function(e){return e.inbox})).incomingMessages,t=Object(s.useState)({show:!1,title:"",body:null,footer:null,onClose:function(){return o(Object.assign(a,{show:!1}))},width:"",height:""}),n=l()(t,2),a=n[0],o=n[1],i=Object(_.a)().addProject,c=Object(s.useContext)(j.a),d=c.currentUser,P=c.setCurrentUser,I=Object(u.g)(),k=Object(w.a)(e,d),B=Object(C.o)(),z=[{key:"name",visible:!0,headerComponent:function(){return f.a.createElement(O.a,{type:"button",background:"transparent",classNames:N.a.addNewProjectBtn,onClick:function(){o({show:!0,title:"Добавить новый проект",body:f.a.createElement(D,null),footer:null,onClose:function(){return o((function(e){return p()(Object.assign(e,{show:!1}))}))},width:"520px"})}},"Добавить новый проект")},cellComponent:function(e){return f.a.createElement("div",{className:N.a.projectName},e.name)}},{key:"teammates",visible:!1,cellComponent:function(e){return f.a.createElement("div",{className:N.a.teammatesCount},"".concat(e.teammatesCount," сотрудников"))}},{key:"action",visible:!0,headerComponent:function(){return f.a.createElement(O.a,{type:"button",background:"edit",classNames:N.a.newProjectBtn,onClick:function(){o({show:!0,title:"Добавить новый проект",body:f.a.createElement(D,null),footer:null,onClose:function(){return o((function(e){return p()(Object.assign(e,{show:!1}))}))},width:"520px"})}},"+ Новый")},cellComponent:function(e){return f.a.createElement(O.a,{type:"button",background:"edit",classNames:N.a.changeProjectBtn,onClick:function(){I.push("/project/".concat(e.id,"/settings/channels"))}},"Изменить")}}],D=function(){var e=Object(s.useState)(C.a),t=l()(e,2),n=t[0],c=t[1],u=Object(v.a)({projectName:""},S,(function(e){i({name:e.name,email:d.email,timezone:n,successCallback:function(t){P((function(n){var a={id:t.id,name:e.projectName,teammatesCount:1};return H(H({},n),{},{projects:[].concat(r()(n.projects),[a])})})),o(Object.assign(a,{show:!1}))}})})),p=u.handleChange,m=u.handleSubmit,b=(u.values,u.errors);return f.a.createElement("form",{method:"POST",onSubmit:m,className:N.a.modalBodyContainer},f.a.createElement("div",{className:N.a.field},f.a.createElement(x.a,{type:"text",name:"projectName",placeholder:"Название проекта",fluid:!0,onChange:p,errorMessage:b.projectName})),f.a.createElement("div",{className:N.a.field},f.a.createElement(x.a,{type:"text",classNames:N.a.timezones,fixedSelect:!0,data:B,fluid:!0,value:Object(C.n)(n),readOnly:!0,onSelect:function(e){c(e)}})),f.a.createElement(O.a,{type:"submit",fluid:!0},"Создать новый проект"))};return f.a.createElement("div",{className:N.a.projectsContainer},f.a.createElement(m.a,{inboxMessages:k}),f.a.createElement("div",{className:N.a.contentContainer},f.a.createElement(g.a,null),f.a.createElement("div",{className:N.a.channelsContainer},f.a.createElement(b.a,{level:"1",weight:"bold"},"Проекты"),f.a.createElement(y.a,{columns:z,data:d.projects}),f.a.createElement(h.a,a))))}}}]);